const a0_0x5d42=['NX_RUN_GROUP','VERBOSE_LOGGING','get','filter','apiAxiosInstance','Cannot\x20find\x20task\x20','value','uniqRunId','accessToken','tasksRunnerV2','Cannot\x20connect\x20to\x20remote\x20cache\x20(scope:\x20','NX_INVOKED_BY_RUNNER','gray','length','\x20projects','colors','env','cacheError','uploadFile','to32bytes','note','assign','CIRCLE_WORKFLOW_ID','next','version','toISOString','NX_BRANCH','taskId','collectTerminalOutput','hasEncryption','TRAVIS_PULL_REQUEST','update','addNewline','response','\x20were\x20retrieved\x20from\x20Nx\x20Cloud.','parse','startRun','projectName','path','Nx\x20Cloud:\x20Skipping\x20storing\x20','remote-cache-miss','readTerminalOutputFile','RunOneReporter','options','getTerminalOutput','tar','EPROTO','code','endTime','decryptFile','final','CIRCLECI','warn','concat','CIRCLE_PR_NUMBER','done','Nx\x20Cloud:\x20Downloading\x20','find','startsWith','subscribe','EAI_AGAIN','encryptFile','cacheDirectory','@nrwl/workspace/src/tasks-runner/run-one-reporter','from','data','devDependencies','extractErrorMessage','throw','@nrwl/workspace/src/tasks-runner/default-reporter','true','startTask','appRootPath','ENOTFOUND','output','patchReporters','waitForStoreRequestsToComplete','createFileName','storeRequests','.\x20Read\x20only\x20token\x20is\x20used.','printResults','crypto','split','@nrwl/workspace/src/tasks-runner/empty-reporter','NX_CLOUD_AUTH_TOKEN','@nrwl/workspace/src/tasks-runner/tasks-runner-v2','Nx\x20Cloud:\x20Storing\x20','machineInfo','default','encryption','keys','endTask','toString','writeFileSync','runUrl','retrieve','success','string','statuses','showUsageWarnings','nxCloudVersion','tasks','endRun','node-machine-id','NX_CLOUD_ENCRYPTION_KEY','__awaiter','uuid','NX_CLOUD_NO_TIMEOUTS','argv','configuration','See\x20run\x20details\x20at\x20','dirname','machineIdSync','Nx\x20Cloud\x20Problems','store','.commit','stream','join','all','storage','ECONNREFUSED','apiError','grey','application/octet-stream','defineProperty','push','__esModule','readFileSync','CIRCLE_PULL_REQUEST','PUT','\x20--','message','scan','target',',\x20code:\x20','rxjs','Results\x20for\x20','createCipheriv','inverse','\x20CLOUD\x20','encryptionKey','ECONNABORTED','status','writeOutputTitle','.tar.gz','findSimilarTasks','node_modules','downloadFile','@nrwl/workspace/src/utils/output','createFile','CIRCLE_BRANCH','slice','terminalOutput','then','Nx\x20Cloud:\x20Stored\x20','...\x0aTRUNCATED','Invalid\x20Nx\x20Cloud\x20response:\x20','reduce','chalk','cacheStatus','messages','printCacheHitsMessage','Nx\x20Cloud:\x20Cache\x20miss\x20','urls','aes-256-cbc','Subject','package.json','keyword','axios','post','overrides','close','Invalid\x20end\x20run\x20response:\x20','prototype','stringify','createReadStream','platform','apply','EmptyReporter','put','runContext','cpus','\x20(code:\x20','https://api.nrwl.io','GET','hash','createCommitFile','create','printMessages','pipe','hashDetails','anyErrors','unknown','api'];(function(_0x1e256a,_0x5d421c){const _0x2345de=function(_0x2a4fa2){while(--_0x2a4fa2){_0x1e256a['push'](_0x1e256a['shift']());}};_0x2345de(++_0x5d421c);}(a0_0x5d42,0xe2));const a0_0x2345=function(_0x1e256a,_0x5d421c){_0x1e256a=_0x1e256a-0x0;let _0x2345de=a0_0x5d42[_0x1e256a];return _0x2345de;};'use strict';var __awaiter=this&&this[a0_0x2345('0x49')]||function(_0x1c1790,_0x7f1dfe,_0x4a2d3d,_0x506515){function _0x278344(_0x28937a){return _0x28937a instanceof _0x4a2d3d?_0x28937a:new _0x4a2d3d(function(_0x42cd9d){_0x42cd9d(_0x28937a);});}return new(_0x4a2d3d||(_0x4a2d3d=Promise))(function(_0x348c5d,_0x16cb3c){function _0x4a1af5(_0x502920){try{_0x369c7d(_0x506515[a0_0x2345('0xb9')](_0x502920));}catch(_0xd11b10){_0x16cb3c(_0xd11b10);}}function _0x4c30e1(_0x408f55){try{_0x369c7d(_0x506515[a0_0x2345('0x24')](_0x408f55));}catch(_0x9f86b0){_0x16cb3c(_0x9f86b0);}}function _0x369c7d(_0x39ea2f){_0x39ea2f[a0_0x2345('0x17')]?_0x348c5d(_0x39ea2f[a0_0x2345('0xa8')]):_0x278344(_0x39ea2f['value'])[a0_0x2345('0x79')](_0x4a1af5,_0x4c30e1);}_0x369c7d((_0x506515=_0x506515['apply'](_0x1c1790,_0x7f1dfe||[]))[a0_0x2345('0xb9')]());});};Object[a0_0x2345('0x5c')](exports,a0_0x2345('0x5e'),{'value':!![]});const rxjs_1=require(a0_0x2345('0x67'));const tasks_runner_v2_1=require(a0_0x2345('0x35'));const output_1=require(a0_0x2345('0x74'));const app_root_1=require('@nrwl/workspace/src/utils/app-root');const fs=require('fs');const path=require(a0_0x2345('0x6'));const uuid_1=require(a0_0x2345('0x4a'));const crypto=require(a0_0x2345('0x31'));const node_machine_id_1=require(a0_0x2345('0x47'));const os=require('os');const path_1=require(a0_0x2345('0x6'));const axios=require(a0_0x2345('0x88'));const tar=require(a0_0x2345('0xd'));const chalk=require(a0_0x2345('0x7e'));const INVOKED_BY_RUNNER=!!process[a0_0x2345('0xb2')][a0_0x2345('0xad')];const NX_CLOUD_NO_TIMEOUTS=process['env'][a0_0x2345('0x4b')]===a0_0x2345('0x26');const UNLIMITED_TIMEOUT=0x98967f;class CloudApi{constructor(_0x19b85f,_0x5aa954,_0x45c312,_0xc8df25,_0x41188c){this[a0_0x2345('0x80')]=_0x19b85f;this[a0_0x2345('0x94')]=_0x5aa954;this['machineInfo']=_0x41188c;this['apiAxiosInstance']=axios[a0_0x2345('0x9b')]({'baseURL':_0x45c312,'timeout':NX_CLOUD_NO_TIMEOUTS?UNLIMITED_TIMEOUT:0x2710,'headers':{'authorization':_0xc8df25}});}[a0_0x2345('0x4')](_0x59a7f9){return __awaiter(this,void 0x0,void 0x0,function*(){try{const _0x4406a5=yield this[a0_0x2345('0xa6')][a0_0x2345('0x89')]('/nx-cloud/runs/start',{'meta':{'nxCloudVersion':this[a0_0x2345('0x44')]()},'hashes':_0x59a7f9});if(_0x4406a5[a0_0x2345('0x21')]&&_0x4406a5['data'][a0_0x2345('0x63')]){this['messages']['message']=_0x4406a5[a0_0x2345('0x21')][a0_0x2345('0x63')];}if(!_0x4406a5[a0_0x2345('0x21')]||!_0x4406a5[a0_0x2345('0x21')]['urls']){this['messages'][a0_0x2345('0x59')]=a0_0x2345('0x7c')+JSON[a0_0x2345('0x8e')](_0x4406a5['data']);return{};}return _0x4406a5['data'][a0_0x2345('0x83')];}catch(_0x471b81){this[a0_0x2345('0x80')]['apiError']=this['messages'][a0_0x2345('0x23')](_0x471b81,a0_0x2345('0xa1'));return{};}});}[a0_0x2345('0x46')](_0x11329d,_0x5a8af2){return __awaiter(this,void 0x0,void 0x0,function*(){try{if(this['messages'][a0_0x2345('0x59')])return;const _0x58931b=yield this['apiAxiosInstance'][a0_0x2345('0x89')]('/nx-cloud/runs/end',{'meta':{'nxCloudVersion':this[a0_0x2345('0x44')]()},'tasks':_0x5a8af2,'run':_0x11329d,'machineInfo':this[a0_0x2345('0x37')]});if(_0x58931b['data']&&_0x58931b[a0_0x2345('0x21')][a0_0x2345('0x6e')]){if(_0x58931b[a0_0x2345('0x21')][a0_0x2345('0x6e')]!==a0_0x2345('0x40')){this[a0_0x2345('0x80')]['apiError']=a0_0x2345('0x8c')+JSON[a0_0x2345('0x8e')](_0x58931b[a0_0x2345('0x21')]['message']);}else{if(_0x58931b['data']['runUrl']){this[a0_0x2345('0x94')][a0_0x2345('0x3e')]=_0x58931b[a0_0x2345('0x21')]['runUrl'];}}}else if(_0x58931b['data']&&typeof _0x58931b['data']===a0_0x2345('0x41')){if(_0x58931b[a0_0x2345('0x21')]!==a0_0x2345('0x40')){this[a0_0x2345('0x80')]['apiError']=a0_0x2345('0x8c')+JSON[a0_0x2345('0x8e')](_0x58931b[a0_0x2345('0x21')]);}}else{this[a0_0x2345('0x80')][a0_0x2345('0x59')]=a0_0x2345('0x8c')+JSON[a0_0x2345('0x8e')](_0x58931b['data']);}}catch(_0x3ea40c){this[a0_0x2345('0x80')][a0_0x2345('0x59')]=this[a0_0x2345('0x80')][a0_0x2345('0x23')](_0x3ea40c,'api');}});}['nxCloudVersion'](){try{const _0x335fc4=JSON[a0_0x2345('0x3')](fs[a0_0x2345('0x5f')](a0_0x2345('0x86'))[a0_0x2345('0x3c')]());return _0x335fc4[a0_0x2345('0x22')]['@nrwl/nx-cloud'];}catch(_0x3637ab){return a0_0x2345('0xa0');}}[a0_0x2345('0x71')](_0x26cb85){return __awaiter(this,void 0x0,void 0x0,function*(){try{if(this[a0_0x2345('0x80')][a0_0x2345('0x59')])return null;const _0x2b8684=yield this[a0_0x2345('0xa6')][a0_0x2345('0x89')]('/nx-cloud/find-similar-tasks',{'task':{'target':_0x26cb85[a0_0x2345('0x65')],'projectName':_0x26cb85[a0_0x2345('0x5')],'hash':_0x26cb85[a0_0x2345('0x99')],'hashDetails':_0x26cb85['hashDetails']}});if(!_0x2b8684['data']){this[a0_0x2345('0x80')]['apiError']=a0_0x2345('0x8c')+JSON[a0_0x2345('0x8e')](_0x2b8684['data']);}return _0x2b8684[a0_0x2345('0x21')][a0_0x2345('0x63')];}catch(_0x111c8a){this[a0_0x2345('0x80')][a0_0x2345('0x59')]=this['messages'][a0_0x2345('0x23')](_0x111c8a,a0_0x2345('0xa1'));return null;}});}}class E2EEncryption{constructor(_0x187559){if(_0x187559){this[a0_0x2345('0x6c')]=this['to32bytes'](_0x187559);}}[a0_0x2345('0xb5')](_0x266d9c){let _0x105f3d=_0x266d9c;while(_0x105f3d['length']<0x20){_0x105f3d+=_0x266d9c;}return Buffer[a0_0x2345('0x20')](_0x105f3d)[a0_0x2345('0x77')](0x0,0x20);}['hasEncryption'](){return!!this[a0_0x2345('0x6c')];}[a0_0x2345('0x1d')](_0x21ea04){const _0x9c08b=crypto['randomBytes'](0x10);const _0x3add50=crypto[a0_0x2345('0x69')](a0_0x2345('0x84'),this[a0_0x2345('0x6c')],_0x9c08b);const _0x3fb2f5=fs[a0_0x2345('0x5f')](_0x21ea04);const _0x25e4d5=_0x3add50[a0_0x2345('0xc1')](_0x3fb2f5);const _0x211be2=Buffer[a0_0x2345('0x15')]([_0x9c08b,_0x25e4d5,_0x3add50[a0_0x2345('0x12')]()]);fs[a0_0x2345('0x3d')](_0x21ea04,_0x211be2);}[a0_0x2345('0x11')](_0x4fdd99){const _0x30c837=fs[a0_0x2345('0x5f')](_0x4fdd99);try{const _0x5ebea1=crypto['createDecipheriv']('aes-256-cbc',this[a0_0x2345('0x6c')],_0x30c837[a0_0x2345('0x77')](0x0,0x10));const _0x4d0a0e=_0x30c837[a0_0x2345('0x77')](0x10);const _0x380e2c=_0x5ebea1['update'](_0x4d0a0e);const _0xbf9602=Buffer[a0_0x2345('0x15')]([_0x380e2c,_0x5ebea1[a0_0x2345('0x12')]()]);fs['writeFileSync'](_0x4fdd99,_0xbf9602);}catch(_0x38272f){throw new Error('Could\x20not\x20decrypt\x20the\x20artifact.\x20Please\x20check\x20your\x20encryption\x20key.');}}}class CloudRemoteCache{constructor(_0x1e28a1,_0x1eced7,_0x2d3078,_0x2823a2){this[a0_0x2345('0x80')]=_0x1e28a1;this['urls']=_0x1eced7;this[a0_0x2345('0x94')]=_0x2d3078;this[a0_0x2345('0x39')]=_0x2823a2;this[a0_0x2345('0x2e')]=[];}[a0_0x2345('0x3f')](_0x2ca628,_0x498521){return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a0_0x2345('0x80')][a0_0x2345('0xb3')])return![];try{const _0x42b228=(yield this['urls'])[_0x2ca628];if(!_0x42b228||!_0x42b228[a0_0x2345('0xa4')]){this[a0_0x2345('0x94')][a0_0x2345('0x42')][_0x2ca628]=a0_0x2345('0x8');return![];}if(CloudRemoteCache[a0_0x2345('0xa3')]){output_1[a0_0x2345('0x2a')][a0_0x2345('0xb6')]({'title':a0_0x2345('0x18')+_0x2ca628});}const _0x3e4a7c=this[a0_0x2345('0x2d')](_0x2ca628,_0x498521);yield this[a0_0x2345('0x73')](_0x42b228[a0_0x2345('0xa4')],_0x3e4a7c);this['createCommitFile'](_0x2ca628,_0x498521);if(CloudRemoteCache[a0_0x2345('0xa3')]){output_1[a0_0x2345('0x2a')][a0_0x2345('0xb6')]({'title':'Nx\x20Cloud:\x20Cache\x20hit\x20'+_0x2ca628});}this[a0_0x2345('0x94')][a0_0x2345('0x42')][_0x2ca628]='remote-cache-hit';return!![];}catch(_0x363682){if(_0x363682['response']&&_0x363682[a0_0x2345('0x1')]['status']===0x194){if(CloudRemoteCache['VERBOSE_LOGGING']){output_1[a0_0x2345('0x2a')]['note']({'title':a0_0x2345('0x82')+_0x2ca628});}}else{this['messages'][a0_0x2345('0xb3')]=this['messages']['extractErrorMessage'](_0x363682,a0_0x2345('0x57'));}this[a0_0x2345('0x94')][a0_0x2345('0x42')][_0x2ca628]=a0_0x2345('0x8');return![];}});}[a0_0x2345('0x52')](_0x4fc30f,_0x506795){return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a0_0x2345('0x80')]['cacheError'])return![];const _0x1f1a5a=Promise['resolve']()[a0_0x2345('0x79')](()=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x1d5271=(yield this[a0_0x2345('0x83')])[_0x4fc30f];if(!_0x1d5271)return![];if(!_0x1d5271[a0_0x2345('0x93')]){if(CloudRemoteCache[a0_0x2345('0xa3')]){output_1['output'][a0_0x2345('0xb6')]({'title':a0_0x2345('0x7')+_0x4fc30f+a0_0x2345('0x2f')});}return!![];}try{if(CloudRemoteCache[a0_0x2345('0xa3')]){output_1['output'][a0_0x2345('0xb6')]({'title':a0_0x2345('0x36')+_0x4fc30f});}const _0x1ff753=yield this[a0_0x2345('0x75')](_0x4fc30f,_0x506795);yield this[a0_0x2345('0xb4')](_0x1d5271['put'],_0x1ff753);if(CloudRemoteCache['VERBOSE_LOGGING']){output_1['output'][a0_0x2345('0xb6')]({'title':a0_0x2345('0x7a')+_0x4fc30f});}return!![];}catch(_0x5d06f8){this[a0_0x2345('0x80')]['cacheError']=this[a0_0x2345('0x80')][a0_0x2345('0x23')](_0x5d06f8,a0_0x2345('0x57'));return![];}}));this[a0_0x2345('0x2e')]['push'](_0x1f1a5a);return _0x1f1a5a;});}[a0_0x2345('0x2c')](){return Promise['all'](this[a0_0x2345('0x2e')]);}['createFileName'](_0x4542d1,_0x323dd4){return path[a0_0x2345('0x55')](_0x323dd4,_0x4542d1+a0_0x2345('0x70'));}[a0_0x2345('0x73')](_0x58f66b,_0x29b90e){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1690dc=yield axios(_0x58f66b,{'method':a0_0x2345('0x98'),'responseType':a0_0x2345('0x54'),'maxContentLength':0x3e8*0x3e8*0xc8,'timeout':NX_CLOUD_NO_TIMEOUTS?UNLIMITED_TIMEOUT:0x7530});if(this[a0_0x2345('0x39')][a0_0x2345('0xbf')]()){yield new Promise(_0x2a8e61=>{const _0x5a4d1d=_0x1690dc['data']['pipe'](fs['createWriteStream'](_0x29b90e));_0x5a4d1d['on'](a0_0x2345('0x8b'),()=>_0x2a8e61());});this['encryption']['decryptFile'](_0x29b90e);const _0x15db9e=fs[a0_0x2345('0x8f')](_0x29b90e)['pipe'](tar['x']({'cwd':path[a0_0x2345('0x4f')](_0x29b90e)}));return new Promise(_0x314ced=>{_0x15db9e['on'](a0_0x2345('0x8b'),()=>{_0x314ced();});});}else{const _0x5758bc=_0x1690dc[a0_0x2345('0x21')][a0_0x2345('0x9d')](tar['x']({'cwd':path[a0_0x2345('0x4f')](_0x29b90e)}));return new Promise(_0x58e8b8=>{_0x5758bc['on'](a0_0x2345('0x8b'),()=>{_0x58e8b8();});});}});}[a0_0x2345('0x9a')](_0x26185b,_0x299098){fs[a0_0x2345('0x3d')](path[a0_0x2345('0x55')](_0x299098,_0x26185b+a0_0x2345('0x53')),a0_0x2345('0x26'));}['createFile'](_0x479942,_0xe3a193){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3f32a6=this['createFileName'](_0x479942,_0xe3a193);yield tar['c']({'gzip':!![],'file':_0x3f32a6,'cwd':_0xe3a193},[_0x479942]);if(this[a0_0x2345('0x39')][a0_0x2345('0xbf')]()){this[a0_0x2345('0x39')][a0_0x2345('0x1d')](_0x3f32a6);}return _0x3f32a6;});}[a0_0x2345('0xb4')](_0x379a61,_0x1125c3){return __awaiter(this,void 0x0,void 0x0,function*(){yield axios(_0x379a61,{'method':a0_0x2345('0x61'),'data':fs[a0_0x2345('0x5f')](_0x1125c3),'headers':{'Content-Type':a0_0x2345('0x5b')},'maxContentLength':0x3e8*0x3e8*0xc8});});}}CloudRemoteCache['VERBOSE_LOGGING']=process[a0_0x2345('0xb2')]['NX_VERBOSE_LOGGING'];class TaskRunnerLifeCycle{constructor(_0x205109,_0x5d3957,_0x4f9ce8){this['runContext']=_0x205109;this[a0_0x2345('0x1e')]=_0x5d3957;this['collectTerminalOutput']=_0x4f9ce8;this['tasks']=[];this['uniqRunId']=uuid_1['v4']();}[a0_0x2345('0x27')](_0x2014e2){const _0x32c1c9=Object[a0_0x2345('0xb7')]({},_0x2014e2[a0_0x2345('0x8a')]||{});if(_0x2014e2[a0_0x2345('0x65')]['configuration']){_0x32c1c9[a0_0x2345('0x4d')]=_0x2014e2['target'][a0_0x2345('0x4d')];}const _0x43776a=Object[a0_0x2345('0x3a')](_0x32c1c9)[a0_0x2345('0x7d')]((_0x417f05,_0x4f92fd)=>_0x417f05+a0_0x2345('0x62')+_0x4f92fd+'='+_0x32c1c9[_0x4f92fd],'');this[a0_0x2345('0x45')][a0_0x2345('0x5d')]({'taskId':_0x2014e2['id']+'-'+this[a0_0x2345('0xa9')],'startTime':new Date()[a0_0x2345('0xbb')](),'target':_0x2014e2[a0_0x2345('0x65')][a0_0x2345('0x65')],'projectName':_0x2014e2[a0_0x2345('0x65')]['project'],'hash':_0x2014e2[a0_0x2345('0x99')],'hashDetails':_0x2014e2[a0_0x2345('0x9e')],'params':_0x43776a});}[a0_0x2345('0x3b')](_0x21c221,_0x2677fe){const _0x5e4410=this[a0_0x2345('0x45')][a0_0x2345('0x19')](_0x277af6=>_0x277af6[a0_0x2345('0xbd')]===_0x21c221['id']+'-'+this[a0_0x2345('0xa9')]);if(!_0x5e4410){throw new Error(a0_0x2345('0xa7')+_0x21c221['id']);}_0x5e4410[a0_0x2345('0x10')]=new Date()[a0_0x2345('0xbb')]();_0x5e4410['status']=_0x2677fe;_0x5e4410[a0_0x2345('0x7f')]=this[a0_0x2345('0x94')][a0_0x2345('0x42')][_0x21c221[a0_0x2345('0x99')]]||'no-remote-cache';if(this[a0_0x2345('0xbe')]&&!INVOKED_BY_RUNNER){_0x5e4410[a0_0x2345('0x78')]=this[a0_0x2345('0xc')](_0x21c221);}}[a0_0x2345('0xc')](_0x4ce52e){let _0x8d9fab;if(this[a0_0x2345('0x1e')]){if(this[a0_0x2345('0x1e')][a0_0x2345('0x1a')]('./')){_0x8d9fab=path_1[a0_0x2345('0x55')](app_root_1[a0_0x2345('0x28')],this['cacheDirectory']);}else{_0x8d9fab=this['cacheDirectory'];}}else{_0x8d9fab=path_1['join'](app_root_1[a0_0x2345('0x28')],a0_0x2345('0x72'),'.cache','nx');}try{const _0x4594ca=this[a0_0x2345('0x9')](_0x8d9fab,_0x4ce52e[a0_0x2345('0x99')]);return _0x4594ca['length']>0xc350?_0x4594ca[a0_0x2345('0x77')](0x0,0xc350)+a0_0x2345('0x7b'):_0x4594ca;}catch(_0x20fce4){return'';}}[a0_0x2345('0x9')](_0x1d443e,_0x4d004f){try{return fs[a0_0x2345('0x5f')](path[a0_0x2345('0x55')](_0x1d443e,'terminalOutputs',_0x4d004f))[a0_0x2345('0x3c')]();}catch(_0x258bb0){try{return fs[a0_0x2345('0x5f')](path[a0_0x2345('0x55')](_0x1d443e,_0x4d004f,'terminalOutput'))['toString']();}catch(_0x4b48fe){return'';}}}}class MessageReporter{constructor(_0xfd8545){this[a0_0x2345('0xb')]=_0xfd8545;this[a0_0x2345('0xb3')]=null;this[a0_0x2345('0x59')]=null;this[a0_0x2345('0x63')]=null;}get[a0_0x2345('0x9f')](){return this[a0_0x2345('0xb3')]||this[a0_0x2345('0x59')];}[a0_0x2345('0x9c')](){if(this[a0_0x2345('0x9f')]){const _0x106574=[];if(this['cacheError']){_0x106574[a0_0x2345('0x5d')]('-\x20'+this[a0_0x2345('0xb3')]);}if(this[a0_0x2345('0x59')]&&this[a0_0x2345('0x59')]!==this[a0_0x2345('0xb3')]){_0x106574[a0_0x2345('0x5d')]('-\x20'+this[a0_0x2345('0x59')]);}output_1['output'][a0_0x2345('0x14')]({'title':a0_0x2345('0x51'),'bodyLines':_0x106574});}if(this[a0_0x2345('0x63')]){printMessage(this[a0_0x2345('0x63')]);}}[a0_0x2345('0x23')](_0x14e5f9,_0x2be280){if(_0x14e5f9[a0_0x2345('0xf')]===a0_0x2345('0x6d')){return a0_0x2345('0xac')+_0x2be280+a0_0x2345('0x66')+_0x14e5f9[a0_0x2345('0xf')]+').\x20Try\x20invoking\x20the\x20command\x20with\x20the\x20NX_CLOUD_NO_TIMEOUTS\x20env\x20variable\x20set\x20to\x20\x27true\x27.';}else if(_0x14e5f9[a0_0x2345('0xf')]===a0_0x2345('0x58')||_0x14e5f9[a0_0x2345('0xf')]===a0_0x2345('0x1c')||_0x14e5f9[a0_0x2345('0xf')]===a0_0x2345('0x29')||_0x14e5f9[a0_0x2345('0xf')]===a0_0x2345('0xe')){return'Cannot\x20connect\x20to\x20remote\x20cache\x20(scope:\x20'+_0x2be280+a0_0x2345('0x66')+_0x14e5f9[a0_0x2345('0xf')]+').';}else if(_0x14e5f9[a0_0x2345('0x1')]&&_0x14e5f9[a0_0x2345('0x1')][a0_0x2345('0x6e')]===0x191){return _0x14e5f9[a0_0x2345('0x1')][a0_0x2345('0x21')][a0_0x2345('0x63')]?_0x14e5f9[a0_0x2345('0x1')][a0_0x2345('0x21')]['message']:_0x14e5f9[a0_0x2345('0x1')]['data'];}else if(_0x14e5f9[a0_0x2345('0x1')]&&_0x14e5f9[a0_0x2345('0x1')]['status']===0x192){if(this[a0_0x2345('0xb')][a0_0x2345('0x43')]===![])return null;return _0x14e5f9[a0_0x2345('0x1')][a0_0x2345('0x21')][a0_0x2345('0x63')]?_0x14e5f9[a0_0x2345('0x1')][a0_0x2345('0x21')]['message']:_0x14e5f9['response'][a0_0x2345('0x21')];}else{let _0x27959c='';if(_0x14e5f9[a0_0x2345('0x1')]&&_0x14e5f9[a0_0x2345('0x1')]['data']&&_0x14e5f9[a0_0x2345('0x1')][a0_0x2345('0x21')][a0_0x2345('0x63')]){_0x27959c='.\x20'+_0x14e5f9[a0_0x2345('0x1')][a0_0x2345('0x21')][a0_0x2345('0x63')];}else if(_0x14e5f9[a0_0x2345('0x1')]&&_0x14e5f9[a0_0x2345('0x1')][a0_0x2345('0x21')]){_0x27959c='.\x20'+_0x14e5f9[a0_0x2345('0x1')][a0_0x2345('0x21')];}const _0x7e9a00=_0x14e5f9['code']?a0_0x2345('0x96')+_0x14e5f9[a0_0x2345('0xf')]+')':'';return''+_0x14e5f9[a0_0x2345('0x63')]+_0x27959c+_0x7e9a00;}}}class EndOfRunMessage{constructor(_0x454619,_0xe101da){this[a0_0x2345('0x80')]=_0x454619;this[a0_0x2345('0x94')]=_0xe101da;this['tasks']=[];this['patchReporters']();}[a0_0x2345('0x2b')](){try{const _0x1fa8e2=require(a0_0x2345('0x25'));const _0x171e65=_0x1fa8e2['DefaultReporter'][a0_0x2345('0x8d')][a0_0x2345('0x30')];const _0x24e0f7=this;_0x1fa8e2['DefaultReporter'][a0_0x2345('0x8d')][a0_0x2345('0x30')]=function(){_0x171e65[a0_0x2345('0x91')](this,arguments);_0x24e0f7[a0_0x2345('0x81')]();};}catch(_0x2d3d9f){}try{const _0x592f8d=require(a0_0x2345('0x1f'));const _0x7593fd=_0x592f8d[a0_0x2345('0xa')][a0_0x2345('0x8d')][a0_0x2345('0x30')];const _0x16cd34=this;_0x592f8d[a0_0x2345('0xa')][a0_0x2345('0x8d')][a0_0x2345('0x30')]=function(){_0x7593fd[a0_0x2345('0x91')](this,arguments);_0x16cd34[a0_0x2345('0x81')]();};}catch(_0x2ae235){}try{const _0x2874e1=require(a0_0x2345('0x33'));const _0x56b507=_0x2874e1[a0_0x2345('0x92')]['prototype'][a0_0x2345('0x30')];const _0x59af44=this;_0x2874e1['EmptyReporter'][a0_0x2345('0x8d')]['printResults']=function(){_0x56b507[a0_0x2345('0x91')](this,arguments);_0x59af44[a0_0x2345('0x81')]();};}catch(_0x3e61dc){}}[a0_0x2345('0x81')](){if(this[a0_0x2345('0x80')]['anyErrors'])return;if(INVOKED_BY_RUNNER)return;const _0x517137=this['tasks'][a0_0x2345('0xa5')](_0x588771=>this[a0_0x2345('0x94')][a0_0x2345('0x42')][_0x588771[a0_0x2345('0x99')]]==='remote-cache-hit')['map'](_0x584bb3=>_0x584bb3[a0_0x2345('0x5')]);if(_0x517137[a0_0x2345('0xaf')]===0x0&&!this[a0_0x2345('0x94')][a0_0x2345('0x3e')]){return;}const _0x2a0855=_0x517137[a0_0x2345('0xaf')]===0x1?_0x517137[0x0]:_0x517137[a0_0x2345('0xaf')]+a0_0x2345('0xb0');const _0x2231f2=[];if(_0x517137['length']>0x0){_0x2231f2['push'](a0_0x2345('0x68')+_0x2a0855+a0_0x2345('0x2'));}if(this[a0_0x2345('0x94')][a0_0x2345('0x3e')]){_0x2231f2['push'](a0_0x2345('0x4e')+this[a0_0x2345('0x94')][a0_0x2345('0x3e')]);}if(_0x2231f2['length']>0x0){printMessage(_0x2231f2[a0_0x2345('0x55')]('\x20'));}}}function printMessage(_0x3b350a){const _0xe26e0f=output_1['output'][a0_0x2345('0xb1')][a0_0x2345('0xae')](_0x3b350a);output_1['output']['addNewline']();output_1[a0_0x2345('0x2a')][a0_0x2345('0x6f')]({'label':chalk['reset'][a0_0x2345('0x6a')]['bold'][a0_0x2345('0x87')](a0_0x2345('0x5a'))(a0_0x2345('0x6b')),'title':chalk[a0_0x2345('0x87')]('grey')(_0xe26e0f)});output_1[a0_0x2345('0x2a')][a0_0x2345('0x0')]();}function getMachineInfo(_0x56f0fc){let _0x579ef4='';if(_0x56f0fc['canTrackAnalytics']){try{_0x579ef4=node_machine_id_1[a0_0x2345('0x50')]();}catch(_0x5627d7){}}return{'machineId':_0x579ef4,'platform':os[a0_0x2345('0x90')](),'version':os['version']?os[a0_0x2345('0xba')]():'','cpuCores':os[a0_0x2345('0x95')]()['length']};}function createApi(_0x4de3d3,_0x3ee2f9,_0x4c6506){const _0x398ef7=_0x3ee2f9['url']||a0_0x2345('0x97');const _0x115aee=getMachineInfo(_0x3ee2f9);if(process['env'][a0_0x2345('0x34')]){return new CloudApi(_0x4de3d3,_0x4c6506,_0x398ef7,process[a0_0x2345('0xb2')][a0_0x2345('0x34')],_0x115aee);}else{return new CloudApi(_0x4de3d3,_0x4c6506,_0x398ef7,_0x3ee2f9['accessToken'],_0x115aee);}}function parseCommand(){return'nx\x20'+process[a0_0x2345('0x4c')][a0_0x2345('0x77')](0x2)[a0_0x2345('0x55')]('\x20');}function runGroup(){if(process['env'][a0_0x2345('0xa2')]!==undefined){return process['env'][a0_0x2345('0xa2')];}if(process[a0_0x2345('0xb2')][a0_0x2345('0x13')]!==undefined){return process['env'][a0_0x2345('0xb8')];}if(process[a0_0x2345('0xb2')]['TRAVIS_BUILD_ID']!==undefined){return process[a0_0x2345('0xb2')]['TRAVIS_BUILD_ID'];}return undefined;}function branch(){if(process[a0_0x2345('0xb2')][a0_0x2345('0xbc')]!==undefined){return process[a0_0x2345('0xb2')][a0_0x2345('0xbc')];}if(process[a0_0x2345('0xb2')][a0_0x2345('0x13')]!==undefined){if(process[a0_0x2345('0xb2')][a0_0x2345('0x16')]!==undefined){return process[a0_0x2345('0xb2')][a0_0x2345('0x16')];}else if(process['env']['CIRCLE_PULL_REQUEST']!==undefined){const _0x452682=process[a0_0x2345('0xb2')][a0_0x2345('0x60')][a0_0x2345('0x32')]('/');return _0x452682[_0x452682[a0_0x2345('0xaf')]-0x1];}else if(process[a0_0x2345('0xb2')][a0_0x2345('0x76')]!==undefined){return process[a0_0x2345('0xb2')]['CIRCLE_BRANCH'];}}if(process[a0_0x2345('0xb2')][a0_0x2345('0xc0')]!==undefined){return process[a0_0x2345('0xb2')][a0_0x2345('0xc0')];}return undefined;}const nxCloudTasksRunner=(_0x28f50c,_0x69c806,_0x9506f3)=>{if(process['env']['NX_CLOUD_AUTH_TOKEN']||_0x69c806[a0_0x2345('0xaa')]){const _0x56a357={'statuses':{}};const _0x2d84f3=new MessageReporter(_0x69c806);const _0x3b3378=createApi(_0x2d84f3,_0x69c806,_0x56a357);const _0x2e71bb=new EndOfRunMessage(_0x2d84f3,_0x56a357);const _0x2a3e0e=_0x3b3378['startRun'](_0x28f50c['map'](_0x3b0051=>_0x3b0051['hash']));const _0x56d51a=new Date()['toISOString']();const _0x5dc6b3=new TaskRunnerLifeCycle(_0x56a357,_0x69c806[a0_0x2345('0x1e')],_0x69c806[a0_0x2345('0x64')]===undefined?!![]:_0x69c806['scan']);const _0x5b14a0=new E2EEncryption(process[a0_0x2345('0xb2')][a0_0x2345('0x48')]||_0x69c806[a0_0x2345('0x6c')]);const _0x4352e0=new CloudRemoteCache(_0x2d84f3,_0x2a3e0e,_0x56a357,_0x5b14a0);const _0x20e700=tasks_runner_v2_1[a0_0x2345('0xab')](_0x28f50c,Object[a0_0x2345('0xb7')](Object[a0_0x2345('0xb7')]({},_0x69c806),{'remoteCache':_0x4352e0,'lifeCycle':_0x5dc6b3}),_0x9506f3);const _0x5688b8=new rxjs_1[(a0_0x2345('0x85'))]();_0x20e700[a0_0x2345('0x1b')]({'next':_0x478268=>_0x5688b8[a0_0x2345('0xb9')](_0x478268),'error':_0x2ce01e=>_0x5688b8['error'](_0x2ce01e),'complete':()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x41a961=new Date()[a0_0x2345('0xbb')]();yield Promise[a0_0x2345('0x56')]([_0x4352e0[a0_0x2345('0x2c')](),_0x3b3378[a0_0x2345('0x46')]({'command':parseCommand(),'startTime':_0x56d51a,'endTime':_0x41a961,'scan':_0x69c806['scan']===undefined?!![]:_0x69c806['scan'],'inner':INVOKED_BY_RUNNER,'branch':branch(),'runGroup':runGroup()},_0x5dc6b3['tasks'])]);_0x2d84f3[a0_0x2345('0x9c')]();_0x2e71bb['tasks']=_0x5dc6b3[a0_0x2345('0x45')];_0x5688b8['complete']();})});return _0x5688b8;}else{return tasks_runner_v2_1[a0_0x2345('0xab')](_0x28f50c,_0x69c806,_0x9506f3);}};exports[a0_0x2345('0x38')]=nxCloudTasksRunner;